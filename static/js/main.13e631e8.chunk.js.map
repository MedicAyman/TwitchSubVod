{"version":3,"sources":["globalStyles.ts","services/api.ts","pages/Home/styles.ts","pages/Home/index.tsx","App.tsx","index.tsx"],"names":["GlobalStyle","createGlobalStyle","api","axios","create","baseURL","process","headers","Accept","Container","styled","div","Home","useState","username","setUsername","usernameId","setUsernameId","twitchData","setTwitchData","videoUrl","setVideoUrl","onSubmit","event","preventDefault","type","name","onChange","target","value","placeholder","onClick","get","then","response","data","users","_id","splitString","videos","preview","small","split","err","console","log","handleSubmit","size","className","url","controls","width","height","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"giBAEA,IAoBeA,EApBKC,YAAH,K,wCCQFC,E,OARHC,EAAMC,OAAO,CACvBC,QAASC,+BACTC,QAAS,CACPC,OAAQ,mCACR,YAAaF,oC,m7BCJV,IAAMG,EAAYC,IAAOC,IAAV,KCmFPC,EA5DQ,WAAO,IAAD,EACKC,mBAAS,IADd,mBACpBC,EADoB,KACVC,EADU,OAESF,mBAAS,IAFlB,mBAEpBG,EAFoB,KAERC,EAFQ,OAGSJ,qBAHT,mBAGpBK,EAHoB,KAGRC,EAHQ,OAIKN,mBAAS,IAJd,mBAIpBO,EAJoB,KAIVC,EAJU,KA8B3B,OACE,kBAACZ,EAAD,KACE,8CACA,0BACEa,SAAU,SAACC,GACTA,EAAMC,mBAGR,2BACEC,KAAK,OACLC,KAAK,WACLC,SAAU,SAACJ,GAAD,OAAWR,EAAYQ,EAAMK,OAAOC,QAC9CA,MAAOf,EACPgB,YAAY,sBAEd,4BAAQL,KAAK,SAASM,QAAS,kBAvChB,WACnB,IACE7B,EAAI8B,IAAJ,sBAAuBlB,IAAYmB,MAAK,SAACC,GACvChC,EACG8B,IADH,mBACmBE,EAASC,KAAKC,MAAM,GAAGC,IAD1C,sBAEGJ,MAAK,SAACC,GACL,IAAMI,EAAcJ,EAASC,KAAKI,OAAO,GAAGC,QAAQC,MAAMC,MACxD,KACA,GACFrB,EAAY,kEAAD,OACyDiB,EADzD,4BAGXnB,EAAce,EAASC,SAG3BlB,EAAciB,EAASC,KAAKC,MAAM,GAAGC,QAEvC,MAAOM,GACPC,QAAQC,IAAIF,IAGb3B,GAAcE,IAAe0B,QAAQC,IAAI7B,EAAYE,GAkBb4B,KACnC,kBAAC,IAAD,CAAUC,KAAM,KADlB,WAMD3B,GACC,yBAAK4B,UAAU,kBACb,kBAAC,IAAD,CAAaC,IAAK7B,EAAU8B,UAAQ,EAACC,MAAM,OAAOC,OAAO,YCjEpDC,MATf,WACE,OACE,oCACE,kBAAC,EAAD,MACA,kBAAC,EAAD,QCJNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.13e631e8.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n  padding: 0rem;\n  margin: 0rem;\n  font-family: 'Roboto', sans-serif;\n  color: #f1f1f1;\n  font-weight: 400;\n  background: #181a1b;\n  }\n\n  a {\n    text-decoration: none;\n    color: #9147ff;\n  }\n\n  input, button {\n    border: 0rem;\n  }\n`;\n\nexport default GlobalStyle;\n","import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_BASE_URL,\n  headers: {\n    Accept: 'application/vnd.twitchtv.v5+json',\n    'Client-Id': process.env.REACT_APP_TWITCH_TOKEN,\n  },\n});\n\nexport default api;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  min-height: 100vh;\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n\n  form {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n  }\n\n  input {\n    background: #323232;\n    height: 2rem;\n    width: 20rem;\n    padding: 0;\n    color: #fefefe;\n    text-align: center;\n    margin-bottom: 0.5rem;\n  }\n\n  button {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #9147ff;\n    height: 2rem;\n    width: 20rem;\n    border: 2px solid #9147ff;\n    color: #fefefe;\n\n    & svg {\n      margin-right: 0.5rem;\n    }\n  }\n\n  a {\n    margin-top: 0.5rem;\n  }\n\n  .player-wrapper {\n    position: relative;\n    padding: 2rem;\n    max-width: 60rem;\n  }\n\n  .react-player {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n`;\n","import React, { useState } from 'react';\nimport ReactPlayer from 'react-player';\n\nimport { FiSearch } from 'react-icons/fi';\n\nimport api from '../../services/api';\n\nimport { Container } from './styles';\n\ninterface TwitchVideoProps {\n  videos: Array<{\n    broadcast_id: number;\n    channel: {\n      display_name: string;\n      description: string;\n      followers: number;\n      logo: string;\n      video_banner: string;\n    };\n    thumbnails: {\n      large: Array<{ url: string }>;\n    };\n  }>;\n}\n\nconst Home: React.FC = () => {\n  const [username, setUsername] = useState('');\n  const [usernameId, setUsernameId] = useState('');\n  const [twitchData, setTwitchData] = useState<TwitchVideoProps>();\n  const [videoUrl, setVideoUrl] = useState('');\n\n  const handleSubmit = () => {\n    try {\n      api.get(`users?login=${username}`).then((response) => {\n        api\n          .get(`channels/${response.data.users[0]._id}/videos?limit=100`)\n          .then((response) => {\n            const splitString = response.data.videos[0].preview.small.split(\n              '/',\n            )[5];\n            setVideoUrl(\n              `https://twitch-cors.herokuapp.com/https://vod-secure.twitch.tv/${splitString}/chunked/index-dvr.m3u8`,\n            );\n            setTwitchData(response.data);\n          });\n\n        setUsernameId(response.data.users[0]._id);\n      });\n    } catch (err) {\n      console.log(err);\n    }\n\n    (usernameId || twitchData) && console.log(usernameId, twitchData);\n  };\n\n  return (\n    <Container>\n      <h1>Twitch Sub Vod</h1>\n      <form\n        onSubmit={(event) => {\n          event.preventDefault();\n        }}\n      >\n        <input\n          type=\"text\"\n          name=\"username\"\n          onChange={(event) => setUsername(event.target.value)}\n          value={username}\n          placeholder=\"Streamer Username\"\n        />\n        <button type=\"submit\" onClick={() => handleSubmit()}>\n          <FiSearch size={14} />\n          Search\n        </button>\n      </form>\n\n      {videoUrl && (\n        <div className=\"player-wrapper\">\n          <ReactPlayer url={videoUrl} controls width=\"100%\" height=\"100%\" />\n        </div>\n      )}\n    </Container>\n  );\n};\n\nexport default Home;\n","import React from 'react';\nimport GlobalStyle from './globalStyles';\nimport Home from './pages/Home';\n\nfunction App() {\n  return (\n    <>\n      <GlobalStyle />\n      <Home />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}