{"version":3,"sources":["globalStyles.ts","services/api.ts","pages/Home/styles.ts","components/VodGallery/styles.ts","components/VodGallery/index.tsx","pages/Home/index.tsx","App.tsx","index.tsx"],"names":["GlobalStyle","createGlobalStyle","api","axios","create","baseURL","process","headers","Accept","Container","styled","div","play","keyframes","Image","figure","props","url","css","animated","VodGallery","data","map","result","num","splitString","preview","large","split","dataUrl","key","_id","href","broadcast_id","target","rel","animated_preview_url","title","views","toString","slice","Home","useState","username","setUsername","usernameId","setUsernameId","twitchData","setTwitchData","videoUrl","setVideoUrl","onSubmit","event","preventDefault","type","name","onChange","value","placeholder","onClick","get","then","response","users","videos","small","err","console","log","size","className","controls","width","height","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+rBAEA,IA8BeA,EA9BKC,YAAH,K,wCCQFC,E,OARHC,EAAMC,OAAO,CACvBC,QAASC,+BACTC,QAAS,CACPC,OAAQ,mCACR,YAAaF,oC,m7BCJV,IAAMG,EAAYC,IAAOC,IAAV,K,8mDCKf,IAAMF,EAAYC,IAAOC,IAAV,KA8ChBC,EAAOC,YAAH,KAMGC,EAAQJ,IAAOK,OAAV,KACd,SAACC,GAAD,OACAA,EAAMC,KACNC,YADA,IAEoBF,EAAMC,QAgBxB,SAACD,GAAD,OACAA,EAAMG,SACFD,YADJ,IAEwBF,EAAMG,UAE1BD,YAJJ,IAKwBF,EAAMC,OAGnBL,GChCFQ,EAzCI,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,KACpB,OACE,kBAAC,EAAD,KACGA,EAAKC,KAAI,SAACC,GACT,IAAsBC,EAUhBC,EAAcF,EAAOG,QAAQC,MAAMC,MAAM,KAAK,GAEhDC,EAAO,yEAAqEJ,EAArE,2BAEX,OACE,yBAAKK,IAAKP,EAAOQ,KACf,uBACEC,KAA8B,IAAxBT,EAAOU,aAAqBJ,EAAUN,EAAON,IACnDiB,OAAO,SACPC,IAAI,uBAEJ,6BACE,kBAACrB,EAAD,CACEG,IAAKM,EAAOG,QAAQC,MACpBR,SAAUI,EAAOa,wBAGrB,gCAASb,EAAOc,OAChB,sCA5BgBb,EA4BQD,EAAOe,OA3BzB,KAAQd,EAAM,KACdA,EAAM,KAAMe,WAAWC,MAAM,EAAG,GAAK,IACpChB,EAAM,KACPA,EAAM,KAASe,WAAWC,MAAM,EAAG,GAAK,IAEzChB,UCgEJiB,EA/DQ,WAAO,IAAD,EACKC,mBAAS,IADd,mBACpBC,EADoB,KACVC,EADU,OAESF,mBAAS,IAFlB,mBAEpBG,EAFoB,KAERC,EAFQ,OAGSJ,qBAHT,mBAGpBK,EAHoB,KAGRC,EAHQ,OAIKN,mBAAS,IAJd,mBAIpBO,EAJoB,KAIVC,EAJU,KA8B3B,OACE,kBAACzC,EAAD,KACE,8CACA,0BACE0C,SAAU,SAACC,GACTA,EAAMC,mBAGR,2BACEC,KAAK,OACLC,KAAK,WACLC,SAAU,SAACJ,GAAD,OAAWR,EAAYQ,EAAMlB,OAAOuB,QAC9CA,MAAOd,EACPe,YAAY,sBAEd,4BAAQJ,KAAK,SAASK,QAvCP,WACnB,IACEzD,EAAI0D,IAAJ,sBAAuBjB,IAAYkB,MAAK,SAACC,GACvC5D,EACG0D,IADH,mBACmBE,EAASzC,KAAK0C,MAAM,GAAGhC,IAD1C,sBAEG8B,MAAK,SAACC,GACL,IAAMrC,EAAcqC,EAASzC,KAAK2C,OAAO,GAAGtC,QAAQuC,MAAMrC,MACxD,KACA,GACFsB,EAAY,kEAAD,OACyDzB,EADzD,4BAGXuB,EAAcc,EAASzC,SAG3ByB,EAAcgB,EAASzC,KAAK0C,MAAM,GAAGhC,QAEvC,MAAOmC,GACPC,QAAQC,IAAIF,IAGbrB,GAAcE,IAAeoB,QAAQC,IAAIvB,EAAYE,KAmBhD,kBAAC,IAAD,CAAUsB,KAAM,KADlB,WAMDpB,GAAYF,GACX,oCACE,kBAAC,EAAD,CAAY1B,KAAM0B,EAAWiB,SAC7B,yBAAKM,UAAU,kBACb,kBAAC,IAAD,CAAarD,IAAKgC,EAAUsB,UAAQ,EAACC,MAAM,OAAOC,OAAO,aCpEtDC,MATf,WACE,OACE,oCACE,kBAAC,EAAD,MACA,kBAAC,EAAD,QCJNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.e58ec1fc.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components';\n\nconst GlobalStyle = createGlobalStyle`\n  :root {\n    --purple: #9147ff;\n    --background: #181a1b;\n    --text: #f1f1f1;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n\n  body {\n  padding: 0rem;\n  margin: 0rem;\n  font-family: 'Roboto', sans-serif;\n  color: var(--text);\n  font-weight: 400;\n  background-color: var(--background);\n  }\n\n  a {\n    text-decoration: none;\n    color: var(purple);\n  }\n\n  input, button {\n    border: 0rem;\n  }\n`;\n\nexport default GlobalStyle;\n","import axios from 'axios';\n\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_BASE_URL,\n  headers: {\n    Accept: 'application/vnd.twitchtv.v5+json',\n    'Client-Id': process.env.REACT_APP_TWITCH_TOKEN,\n  },\n});\n\nexport default api;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  min-height: 100vh;\n  display: flex;\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  padding: 0 2rem;\n\n  form {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n  }\n\n  input {\n    background: #323232;\n    height: 2rem;\n    width: 20rem;\n    padding: 0;\n    color: #fefefe;\n    text-align: center;\n    margin-bottom: 0.5rem;\n  }\n\n  button {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: #9147ff;\n    height: 2rem;\n    width: 20rem;\n    border: 2px solid #9147ff;\n    color: #fefefe;\n\n    & svg {\n      margin-right: 0.5rem;\n    }\n  }\n\n  a {\n    margin-top: 0.5rem;\n  }\n\n  .player-wrapper {\n    position: relative;\n    max-width: 60rem;\n  }\n\n  .react-player {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n`;\n","import styled, { css, keyframes } from 'styled-components';\n\ninterface AnimatedProps {\n  url: string;\n  animated: any;\n}\n\nexport const Container = styled.div`\n  max-width: 60rem;\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n\n  div {\n    max-width: 19rem;\n    margin: 0.5rem;\n    display: flex;\n    flex-direction: column;\n\n    a {\n      display: flex;\n      flex-direction: column;\n      color: #efefef;\n\n      &:hover {\n        color: var(--purple);\n      }\n\n      div {\n        max-height: 10.6875rem;\n        margin: 0;\n\n        &:hover {\n          background: var(--purple);\n        }\n      }\n    }\n\n    strong {\n      word-wrap: break-word;\n    }\n\n    p {\n      margin: 0.1rem;\n      font-size: 0.75rem;\n    }\n  }\n\n  div & {\n    padding: 1rem 0;\n  }\n`;\n\nconst play = keyframes`\n    100% {\n        background-position: 0 -1800px;\n      }\n`;\n\nexport const Image = styled.figure<AnimatedProps>`\n  ${(props) =>\n    props.url &&\n    css`\n      background: url(${props.url}) no-repeat top center;\n    `}\n  background-size: contain;\n  margin: 0;\n  display: flex;\n  height: 10.6875rem;\n  width: 19rem;\n  object-fit: contain;\n\n  transition: transform 0.075s ease;\n\n  &:hover {\n    transform: translateX(0.5rem) translateY(-0.5rem);\n    max-height: 10.6875rem;\n    object-fit: cover;\n\n    ${(props) =>\n      props.animated\n        ? css`\n            background: url(${props.animated});\n          `\n        : css`\n            background: url(${props.url});\n          `}\n\n    animation: ${play} 7s steps(10) infinite;\n  }\n`;\n","import React from 'react';\n\nimport { Container, Image } from './styles';\n\ninterface ResultProps {\n  _id: string;\n  animated_preview_url: string;\n  preview: {\n    large: string;\n  };\n  broadcast_id: number;\n  title: string;\n  views: number;\n  url: string;\n}\nconst VodGallery = ({ data }: any) => {\n  return (\n    <Container>\n      {data.map((result: ResultProps) => {\n        const formatNumber = (num: number) => {\n          if (num > 1000 && num < 1000000) {\n            return (num / 1000).toString().slice(0, 3) + 'K';\n          } else if (num > 1000000) {\n            return (num / 1000000).toString().slice(0, 3) + 'M';\n          } else {\n            return num;\n          }\n        };\n\n        const splitString = result.preview.large.split('/')[5];\n\n        let dataUrl = `https://twitch-cors.herokuapp.com/https://vod-secure.twitch.tv/${splitString}/chunked/index-dvr.m3u8`;\n\n        return (\n          <div key={result._id}>\n            <a\n              href={result.broadcast_id !== 1 ? dataUrl : result.url}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              <div>\n                <Image\n                  url={result.preview.large}\n                  animated={result.animated_preview_url}\n                />\n              </div>\n              <strong>{result.title}</strong>\n              <p>Views: {formatNumber(result.views)}</p>\n            </a>\n          </div>\n        );\n      })}\n    </Container>\n  );\n};\n\nexport default VodGallery;\n\n// {_id: \"v814581553\"\n// ​​​// animated_preview_url: \"https://d2nvs31859zcd8.cloudfront.net/472cae4a945ba4c9a63f_f…lie_40670608750_1606255451/storyboards/814581553-strip-0.jpg\"\n// ​​​// broadcast_id: 40670608750\n// ​​​// broadcast_type: \"archive\"\n// ​​​// channel: Object { mature: false, status: \"(NO SPOILERS) among us!!!! :D\", broadcaster_language: \"en\", … }\n// ​​​// created_at: \"2020-11-24T22:04:20Z\"\n// ​​​// delete_at: \"2021-01-23T22:04:20Z\"\n// ​​​// description: null\n// ​​​// description_html: null\n// ​​​// fps: Object { 160p30: 29.995096490466462, 360p30: 29.995096490466462, 480p30: 29.995096490466462, … }\n// ​​​// game: \"Just Chatting\"\n// ​​​// increment_view_count_url: \"https://countess.twitch.tv/ping.gif?u=%7B%22id%22%3A%22814581553%22%2C%22type%22%3A%22vod%22%7D\"\n// ​​​// language: \"en\"\n// ​​​// length: 10527\n// ​​​// preview: Object { small: \"https://static-cdn.jtvnw.net/cf_vods/d2nvs31859zcd8/472cae4a…c9a63f_fuslie_40670608750_1606255451//thumb/thumb0-80x45.jpg\", medium: \"https://static-cdn.jtvnw.net/cf_vods/d2nvs31859zcd8/472cae4a…a63f_fuslie_40670608750_1606255451//thumb/thumb0-320x180.jpg\", large: \"https://static-cdn.jtvnw.net/cf_vods/d2nvs31859zcd8/472cae4a…a63f_fuslie_40670608750_1606255451//thumb/thumb0-640x360.jpg\", … }\n// ​​​// published_at: \"2020-11-24T22:04:20Z\"\n// ​​​// recorded_at: \"2020-11-24T22:04:20Z\"\n// ​​​// resolutions: Object { 160p30: \"284x160\", 360p30: \"640x360\", 480p30: \"852x480\", … }\n// ​​​// restriction: \"\"\n// ​​​// seek_previews_url: \"https://d2nvs31859zcd8.cloudfront.net/472cae4a945ba4c9a63f_fuslie_40670608750_1606255451/storyboards/814581553-info.json\"\n// ​​​// status: \"recorded\"\n// ​​​// tag_list: \"\"\n// ​​​// thumbnails: Object { small: (8) […], medium: (8) […], large: (8) […], … }\n// ​​​// title: \"short minecraft stream!! first day on the new server!!! \"\n// ​​​// url: \"https://www.twitch.tv/videos/814581553\"\n// ​​​// viewable: \"public\"\n// ​​​// viewable_at: null\n// ​​​// views: 115820}\n","import React, { useState } from 'react';\nimport ReactPlayer from 'react-player';\n\nimport { FiSearch } from 'react-icons/fi';\n\nimport api from '../../services/api';\n\nimport { Container } from './styles';\nimport VodGallery from '../../components/VodGallery';\n\ninterface TwitchVideoProps {\n  videos: Array<{\n    broadcast_id: number;\n    channel: {\n      display_name: string;\n      description: string;\n      followers: number;\n      logo: string;\n      video_banner: string;\n    };\n    thumbnails: {\n      large: Array<{ url: string }>;\n    };\n  }>;\n}\n\nconst Home: React.FC = () => {\n  const [username, setUsername] = useState('');\n  const [usernameId, setUsernameId] = useState('');\n  const [twitchData, setTwitchData] = useState<TwitchVideoProps>();\n  const [videoUrl, setVideoUrl] = useState('');\n\n  const handleSubmit = () => {\n    try {\n      api.get(`users?login=${username}`).then((response) => {\n        api\n          .get(`channels/${response.data.users[0]._id}/videos?limit=100`)\n          .then((response) => {\n            const splitString = response.data.videos[0].preview.small.split(\n              '/',\n            )[5];\n            setVideoUrl(\n              `https://twitch-cors.herokuapp.com/https://vod-secure.twitch.tv/${splitString}/chunked/index-dvr.m3u8`,\n            );\n            setTwitchData(response.data);\n          });\n\n        setUsernameId(response.data.users[0]._id);\n      });\n    } catch (err) {\n      console.log(err);\n    }\n\n    (usernameId || twitchData) && console.log(usernameId, twitchData);\n  };\n\n  return (\n    <Container>\n      <h1>Twitch Sub Vod</h1>\n      <form\n        onSubmit={(event) => {\n          event.preventDefault();\n        }}\n      >\n        <input\n          type=\"text\"\n          name=\"username\"\n          onChange={(event) => setUsername(event.target.value)}\n          value={username}\n          placeholder=\"Streamer Username\"\n        />\n        <button type=\"submit\" onClick={handleSubmit}>\n          <FiSearch size={14} />\n          Search\n        </button>\n      </form>\n\n      {videoUrl && twitchData && (\n        <>\n          <VodGallery data={twitchData.videos} />\n          <div className=\"player-wrapper\">\n            <ReactPlayer url={videoUrl} controls width=\"100%\" height=\"100%\" />\n          </div>\n        </>\n      )}\n    </Container>\n  );\n};\n\nexport default Home;\n","import React from 'react';\nimport GlobalStyle from './globalStyles';\nimport Home from './pages/Home';\n\nfunction App() {\n  return (\n    <>\n      <GlobalStyle />\n      <Home />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}